<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>River Sorting Game – India</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f8fb;
    margin:0;
    padding:0;
}

h2{
    text-align:center;
    margin:10px;
}

/* MAIN LAYOUT */
#game-container{
    display:flex;
}

/* MAP AREA */
#map-area{
    width:70%;
    height:90vh;
    background:url("India-map.svg") no-repeat center;
    background-size:contain;
    position:relative;
    border-right:3px solid #ccc;
}

/* DROP ZONES */
.dropzone{
    position:absolute;
    min-width:220px;
    min-height:130px;
    padding:10px;
    border:3px dashed #004aad;
    border-radius:10px;
    background:rgba(255,255,255,0.85);

    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
}

/* SEA TITLES */
.sea-title{
    font-weight:bold;
    margin-bottom:6px;
}

/* Arabian Sea (unchanged) */
#arabian{
    left:6%;
    top:55%;
}

/* Bay of Bengal – moved close to Odisha coastline */
#bengal{
    left:64%;
    top:52%;
}

/* SIDE PANEL */
#side-panel{
    width:30%;
    padding:15px;
}

#side-panel h3{
    margin-top:0;
}

/* RIVER TILES */
.tile{
    display:inline-block;
    background:#2196f3;
    color:white;
    padding:8px 12px;
    margin:8px 0;
    border-radius:8px;
    cursor:grab;
    font-size:14px;
    width:auto;
}

.tile:active{
    cursor:grabbing;
}

/* FEEDBACK COLORS */
.correct{
    background:#4caf50 !important;
}

.wrong{
    background:#f44336 !important;
}

#score{
    font-size:18px;
    margin-top:15px;
    font-weight:bold;
}

#feedback{
    margin-top:12px;
    font-size:16px;
    font-weight:bold;
}

button{
    margin-top:10px;
    padding:8px 14px;
    font-size:14px;
    cursor:pointer;
}
</style>
</head>

<body>

<h2>Drag the Rivers to the Correct Sea (Where the River ends up)</h2>

<div id="game-container">

    <!-- MAP AREA -->
    <div id="map-area">

        <div id="arabian" class="dropzone" data-sea="arabian">
            <div class="sea-title">Arabian Sea</div>
        </div>

        <div id="bengal" class="dropzone" data-sea="bengal">
            <div class="sea-title">Bay of Bengal</div>
        </div>

    </div>

    <!-- SIDE PANEL -->
    <div id="side-panel">
        <h3>River Tiles</h3>

        <div class="tile" draggable="true" data-answer="bengal">
            Ganga (Uttarakhand)
        </div>

        <div class="tile" draggable="true" data-answer="bengal">
            Brahmaputra (Tibet)
        </div>

        <div class="tile" draggable="true" data-answer="arabian">
            Narmada (Madhya Pradesh)
        </div>

        <div class="tile" draggable="true" data-answer="bengal">
            Mahanadi (Odisha)
        </div>

        <div class="tile" draggable="true" data-answer="bengal">
            Godavari (Maharashtra)
        </div>

        <div class="tile" draggable="true" data-answer="bengal">
            Krishna (Maharashtra)
        </div>

        <div id="score">Score: 0 / 6</div>
        <div id="feedback"></div>
        <button onclick="resetGame()">Retry</button>
    </div>

</div>

<script>
let draggedTile = null;
let score = 0;
const total = 6;
const feedback = document.getElementById("feedback");

/* DRAG START */
document.querySelectorAll('.tile').forEach(tile=>{
    tile.addEventListener('dragstart', ()=>{
        draggedTile = tile;
    });
});

/* DROP LOGIC */
document.querySelectorAll('.dropzone').forEach(zone=>{
    zone.addEventListener('dragover', e=>{
        e.preventDefault();
    });

    zone.addEventListener('drop', ()=>{
        if(!draggedTile) return;

        const correctSea = draggedTile.dataset.answer;
        const droppedSea = zone.dataset.sea;

        draggedTile.classList.remove("correct","wrong");

        zone.appendChild(draggedTile);

        if(correctSea === droppedSea){
            score++;
            draggedTile.classList.add("correct");
        }else{
            draggedTile.classList.add("wrong");
        }

        draggedTile.setAttribute("draggable","false");

        document.getElementById("score").innerText =
            `Score: ${score} / ${total}`;

        checkResult();
        draggedTile = null;
    });
});

/* RESULT CHECK */
function checkResult(){
    const remaining =
        document.querySelectorAll('.tile[draggable="true"]').length;

    if(remaining === 0){
        if(score === total){
            feedback.innerText =
                "Congratulations, you have done well.";
        }else{
            feedback.innerText =
                "Try once again, you can do it better.";
        }
    }
}

/* RESET */
function resetGame(){
    score = 0;
    feedback.innerText = "";
    document.getElementById("score").innerText = "Score: 0 / 6";

    const panel = document.getElementById("side-panel");

    document.querySelectorAll('.tile').forEach(tile=>{
        tile.classList.remove("correct","wrong");
        tile.setAttribute("draggable","true");
        panel.insertBefore(tile, document.getElementById("score"));
    });
}
</script>

</body>
</html>
